#!/usr/bin/bash
insidecolor=$(flavours info -r $(flavours current) | head -n 4 | tail -n 1)
ringcolor=$(flavours info -r $(flavours current) | head -n 5 | tail -n 1)
errorcolor=$(flavours info -r $(flavours current) | head -n 11 | tail -n 1)
clearedcolor=$(flavours info -r $(flavours current) | head -n 15 | tail -n 1)
highlightcolor=$(flavours info -r $(flavours current) | head -n 14 | tail -n 1)
verifyngcolor=$(flavours info -r $(flavours current) | head -n 12 | tail -n 1)
textcolor=$(flavours info -r $(flavours current) | head -n 10 | tail -n 1)
positiony="1000"
arguments="-n --font Fira_Sans --font-size 15 --indicator-idle-visible --indicator-radius 40 --ring-color $ringcolor --inside-wrong-color $errorcolor --ring-wrong-color $errorcolor --indicator-y-position $positiony --key-hl-color $highlightcolor --bs-hl-color $errorcolor --ring-ver-color $verifyngcolor --inside-ver-color $verifyngcolor --inside-color $insidecolor --text-color $textcolor --text-clear-color $insidecolor --text-ver-color $insidecolor --text-wrong-color $insidecolor --text-caps-lock-color $textcolor --inside-clear-color $clearedcolor --ring-clear-color $clearedcolor -L -l --inside-caps-lock-color $verifyngcolor --ring-caps-lock-color $ringcolor --separator-color $ringcolor"
if [[ $* == *-i* ]]; then
    swaylock -i $(cat ~/.bg) $arguments
else
    swaylock-blur -- $arguments
fi
